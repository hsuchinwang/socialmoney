function statusChangeCallback(e){console.log("statusChangeCallback"),console.log(e),"connected"===e.status?(getUserPic(),document.getElementById("logindiv").style.display="none",document.getElementById("picdiv").style.display="block",document.getElementById("tabBar").style.display="block",document.getElementById("status").innerHTML=""):"not_authorized"===e.status?(document.getElementById("status").innerHTML="Please log into this app.",navigator.userAgent.match("CriOS")&&loginWithFacebook()):(document.getElementById("status").innerHTML="Please log into Facebook.",navigator.userAgent.match("CriOS")&&loginWithFacebook())}function loginWithFacebook(){var e=document.location.href;e+=-1!==e.indexOf("?")?"&back_from_fb=1":"?back_from_fb=1";var t="https://www.facebook.com/dialog/oauth?client_id=1493213687646728&redirect_uri="+e+"&scope=email,public_profile";window.open(t,"_self")}function checkLoginState(){FB.getLoginStatus(function(e){statusChangeCallback(e)})}function getUserPic(){FB.api("/me","GET",{fields:"name,picture"},function(e){return console.log(e),!e||e.error?(alert(e?e.error:"error occurred"),void console.log(e)):(document.getElementById("userpic").src=e.picture.data.url,document.getElementById("name").innerHTML=e.name,$.post("https://socialmoney.herokuapp.com/save_name",{name:e.name,pic:e.picture.data.url},function(e){console.log(e)}),void loadCurrency())})}window.fbAsyncInit=function(){FB.init({appId:"1493213687646728",cookie:!0,xfbml:!0,version:"v2.5",channelUrl:"//socialmoney.herokuapp.com"}),FB.getLoginStatus(function(e){statusChangeCallback(e)})},function(e,t,n){var o,a=e.getElementsByTagName(t)[0];e.getElementById(n)||(o=e.createElement(t),o.id=n,o.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk");